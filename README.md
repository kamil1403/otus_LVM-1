<p align="center">
  <img src="https://github.com/kamil1403/otus_LVM-1/blob/main/screenshots/lvm.jpg" alt="RAID Banner" width="800">
</p>

<h1 align="center">otus_LVM-1</h1>
<p align="center">–î–∞—Ç–∞: 15-05-2025<br>–ê–≤—Ç–æ—Ä: Kamil Ibragimov</p>

## –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ: —Ä–∞–±–æ—Ç–∞ —Å LVM
–ó–∞–¥–∞–Ω–∏–µ:   
‚Ä¢ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å LVM –≤ Ubuntu 24.04 Server   
‚Ä¢ –°–æ–∑–¥–∞—Ç—å Physical Volume, Volume Group –∏ Logical Volume   
‚Ä¢ –û—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ —Å–º–æ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É   
‚Ä¢ –†–∞—Å—à–∏—Ä–∏—Ç—å —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É –∑–∞ —Å—á—ë—Ç –Ω–æ–≤–æ–≥–æ –¥–∏—Å–∫–∞   
‚Ä¢ –í—ã–ø–æ–ª–Ω–∏—Ç—å resize   
‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã   

–ö—Ä–∏—Ç–µ—Ä–∏–∏ –æ—Ü–µ–Ω–∫–∏:   
‚Ä¢ –ó–∞–¥–∞–Ω–∏–µ —Å—á–∏—Ç–∞–µ—Ç—Å—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã–º, –µ—Å–ª–∏ –ø—Ä–æ–≤–µ–¥–µ–Ω—ã –≤—Å–µ –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–∏ —Å —Ä–∞–∑–¥–µ–ª–∞–º–∏, –ø—Ä–æ–ø–∏—Å–∞–Ω–æ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ fstab, –ø—Ä–æ–≤–µ–¥–µ–Ω–∞ —Ä–∞–±–æ—Ç–∞ —Å–æ —Å–Ω–µ–ø—à–æ—Ç–∞–º–∏    

–†–µ–∑—É–ª—å—Ç–∞—Ç:   
‚Ä¢ –°–æ–∑–¥–∞–ª Physical Volume, Volume Group –∏ Logical Volume. –†–µ–∑—É–ª—å—Ç–∞—Ç —Å–º. –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–µ ["lvm_create"](https://github.com/kamil1403/otus_LVM-1/blob/main/screenshots/lvm_create.png)  
‚Ä¢ –û—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–ª —Ç–æ–º –∏ —Å–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–ª —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É –≤ –∫–∞—Ç–∞–ª–æ–≥ /lvm. –†–µ–∑—É–ª—å—Ç–∞—Ç —Å–º. –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–µ ["mkfs.ext4"](https://github.com/kamil1403/otus_LVM-1/blob/main/screenshots/mkfs.ext4.png)  
‚Ä¢ –†–∞—Å—à–∏—Ä–∏–ª —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É –∑–∞ —Å—á–µ—Ç –Ω–æ–≤–æ–≥–æ –¥–∏—Å–∫–∞ –Ω–∞ 5Gb. –†–µ–∑—É–ª—å—Ç–∞—Ç —Å–º. –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–µ ["resize"](https://github.com/kamil1403/otus_LVM-1/blob/main/screenshots/resize.png) 



## üß≠ –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

- [‚úçüèª –°–∫—Ä–∏–ø—Ç –¥–ª—è —Å–±–æ—Ä–∫–∏ RAID 1](#script)
- [‚úçüèª –°–∫—Ä–∏–ø—Ç —Å–∏–º—É–ª—è—Ü–∏–∏ –æ—Ç–∫–∞–∑–∞ –¥–∏—Å–∫–∞](#fixraid)
- [üìÄ –î–∏—Å–∫–∏ –∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞](#hard)
- [üß± –†–∞–∑–º–µ—Ç–∫–∞ –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∏—Å–∫–∞](#partition)
- [üóÉÔ∏è –°–±–æ—Ä–∫–∞ RAID 1](#setup)
- [üí• –°–∏–º—É–ª—è—Ü–∏—è –æ—Ç–∫–∞–∑–∞ –¥–∏—Å–∫–∞](#failure)
- [‚öôÔ∏è –°–æ–∑–¥–∞–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–æ–≤ –Ω–∞ RAID](#GPT)
- [üõ†Ô∏è –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã](#ext4)
- [‚úÇÔ∏è –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã LVM](#pvl)

---

<a id="script"></a>
## ‚úçüèª –°–∫—Ä–∏–ø—Ç –¥–ª—è —Å–±–æ—Ä–∫–∏ RAID 1
–ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ sudo bash script.sh   
–î–∞—Ç—å –ø—Ä–∞–≤–∞ chmod +x script.sh

```bash
#!/bin/bash

mkdir -p /mnt/raid01
apt-get install -y mdadm
mdadm --create --verbose /dev/md127 --level=1 --raid-devices=2 /dev/sdb1 /dev/sdb2
mkfs.ext4 /dev/md127
mount /dev/md127 /mnt/raid01
echo "/dev/md127 /mnt/raid01 ext4 defaults 0 0" >> /etc/fstab
mdadm --detail --scan >> /etc/mdadm/mdadm.conf
update-initramfs -u
```

---

<a id="fixraid"></a>
## ‚úçüèª –°–∫—Ä–∏–ø—Ç —Å–∏–º—É–ª—è—Ü–∏–∏ –æ—Ç–∫–∞–∑–∞ –¥–∏—Å–∫–∞
–ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ sudo bash script.sh   
–î–∞—Ç—å –ø—Ä–∞–≤–∞ chmod +x script.sh

```bash
#!/bin/bash

mdadm /dev/md127 --fail /dev/sdb1
mdadm /dev/md127 --remove /dev/sdb1
mdadm --zero-superblock /dev/sdb3 >/dev/null 2>&1
mdadm /dev/md127 --add /dev/sdb3
watch -n 1 cat /proc/mdstat
```

---

<a id="hard"></a>
## üìÄ –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å LVM

```bash
# –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∏—Å–∫–æ–≤ –∏ —Ä–∞–∑–¥–µ–ª–æ–≤ –≤ –≤–∏–¥–µ –¥–µ—Ä–µ–≤–∞
lsblk
lsblk | grep -E 'sd|NAME'
# –í—ã–≤–æ–¥–∏—Ç —Å–ø–∏—Å–æ–∫ —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö –¥–∏—Å–∫–æ–≤ –∏ –∏—Ö —Ä–∞–∑–¥–µ–ª–æ–≤ –≤ —Å–∏—Å—Ç–µ–º–µ
ls -la /dev/sd*
```

---

<a id="partition"></a>
## üß± –†–∞–∑–º–µ—Ç–∫–∞ –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∏—Å–∫–∞

```bash
# –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â—É—é —Ç–∞–±–ª–∏—Ü—É —Ä–∞–∑–¥–µ–ª–æ–≤ –¥–∏—Å–∫–∞ /dev/sdb (—Ä–∞–∑–º–µ—Ä—ã, —Ç–∏–ø—ã, –Ω–∞—á–∞–ª—å–Ω—ã–µ —Å–µ–∫—Ç–æ—Ä–∞)
fdisk -l /dev/sdb
# –ó–∞–ø—É—Å–∫ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∞–∑–¥–µ–ª–∞–º–∏ –¥–∏—Å–∫–∞
fdisk /dev/sdb
# –î–µ–π—Å—Ç–≤–∏—è –≤–Ω—É—Ç—Ä–∏ fdisk:
# m ‚Äî –º–µ–Ω—é –∫–æ–º–∞–Ω–¥
# p ‚Äî —Ç–µ–∫—É—â–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Ä–∞–∑–¥–µ–ª–æ–≤
# n ‚Äî —Å–æ–∑–¥–∞—Ç—å —Ä–∞–∑–¥–µ–ª (primary/extended)
# w ‚Äî –∑–∞–ø–∏—Å–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏ –≤—ã–π—Ç–∏
# –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç —Ä–∞–∑–¥–µ–ª /dev/sdb1 –≤ —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É ext4
mkfs.ext4 /dev/sdb1
# –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –¥—Ä–µ–≤–æ–≤–∏–¥–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∏—Å–∫–æ–≤ –∏ —Ä–∞–∑–¥–µ–ª–æ–≤ (–∏–º–µ–Ω–∞, —Ä–∞–∑–º–µ—Ä—ã, —Ç–æ—á–∫–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
lsblk
# –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç UUID –∏ —Ç–∏–ø —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã –¥–ª—è –≤—Å–µ—Ö —Ä–∞–∑–¥–µ–ª–æ–≤ (–Ω—É–∂–µ–Ω –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ /etc/fstab)
blkid
# –°–æ–∑–¥–∞–µ—Ç –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ /mnt/disk1, /disk2 –∏ —Ç.–¥. –¥–ª—è –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–∞–∑–¥–µ–ª–æ–≤
# –§–ª–∞–≥ -p –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç –æ—à–∏–±–∫–∏, –µ—Å–ª–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç
mkdir -p /mnt/disk1 /mnt/disk2 /mnt/disk3 /mnt/disk4
# –ú–æ–Ω—Ç–∏—Ä—É–µ—Ç —Ä–∞–∑–¥–µ–ª /dev/sdb1 –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é /mnt/disk1 (–≤—Ä–µ–º–µ–Ω–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ)
mount /dev/sdb1 /mnt/disk1
# –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç —Ñ–∞–π–ª fstab –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–∞–∑–¥–µ–ª–æ–≤ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
nano /etc/fstab
# –ü—Ä–∏–º–µ—Ä —Å—Ç—Ä–æ–∫–∏
UUID=1234-ABCD /mnt/disk1 ext4 defaults 0 2
```

---

<a id="setup"></a>
## üóÉÔ∏è –°–±–æ—Ä–∫–∞ RAID 1 —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º mdadm

```bash
# –°–æ–∑–¥–∞–µ—Ç –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é /mnt/raid01 –¥–ª—è –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è RAID-–º–∞—Å—Å–∏–≤–∞
mkdir /mnt/raid01
# –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å RAID-–º–∞—Å—Å–∏–≤–æ–≤ –≤ —Å–∏—Å—Ç–µ–º–µ (–∞–∫—Ç–∏–≤–Ω—ã–µ –º–∞—Å—Å–∏–≤—ã, –ø—Ä–æ—Ü–µ—Å—Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏, —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞)
cat /proc/mdstat
# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —É—Ç–∏–ª–∏—Ç—É mdadm –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã–º–∏ RAID-–º–∞—Å—Å–∏–≤–∞–º–∏ –≤ Linux
apt install mdadm
# –°–æ–∑–¥–∞–µ—Ç RAID 1 (–∑–µ—Ä–∫–∞–ª–æ) –∏–∑ –¥–≤—É—Ö —Ä–∞–∑–¥–µ–ª–æ–≤, –≥–¥–µ /dev/md127 ‚Äî –∏–º—è –º–∞—Å—Å–∏–≤–∞, -l 1 ‚Äî —É—Ä–æ–≤–µ–Ω—å RAID (–∑–µ—Ä–∫–∞–ª–∏—Ä–æ–≤–∞–Ω–∏–µ), -n 2 ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤
mdadm --create /dev/md127 -l 1 -n 2 /dev/sdb1 /dev/sdb2
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ RAID (–Ω–∞–ø—Ä–∏–º–µ—Ä, resync = 50%).
cat /proc/mdstat
# –í—ã–≤–æ–¥–∏—Ç –¥–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –º–∞—Å—Å–∏–≤–µ:
# –°–æ—Å—Ç–æ—è–Ω–∏–µ (active, degraded)
# –°–ø–∏—Å–æ–∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤ (/dev/sdb1, /dev/sdb2)
# UUID –º–∞—Å—Å–∏–≤–∞
mdadm -D /dev/md127
# –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç RAID-–º–∞—Å—Å–∏–≤ –≤ —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É ext4 (–≥–æ—Ç–æ–≤ –∫ —Ö—Ä–∞–Ω–µ–Ω–∏—é –¥–∞–Ω–Ω—ã—Ö)
mkfs.ext4 /dev/md127
# –ú–æ–Ω—Ç–∏—Ä—É–µ—Ç –º–∞—Å—Å–∏–≤ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é /mnt/raid01 –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º
mount /dev/md127 /mnt/raid01
# –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–≤–æ–±–æ–¥–Ω–æ–µ –º–µ—Å—Ç–æ –Ω–∞ –≤—Å–µ—Ö —Å–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö, –≤–∫–ª—é—á–∞—è RAID
df -h
# –ö–æ–ø–∏—Ä—É–µ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ /var/log/ –≤ RAID-–º–∞—Å—Å–∏–≤ –¥–ª—è —Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏—è –ª–æ–≥–æ–≤
cp -r /var/log/* /mnt/raid01
# –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç —Ñ–∞–π–ª fstab –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–∞–∑–¥–µ–ª–æ–≤ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
nano /etc/fstab
# –ü—Ä–∏–º–µ—Ä —Å—Ç—Ä–æ–∫–∏ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è RAID
/dev/md127 /mnt/raid01 ext4 defaults 0 0
```

---

<a id="failure"></a>
## üí• –°–∏–º—É–ª—è—Ü–∏—è –æ—Ç–∫–∞–∑–∞ –¥–∏—Å–∫–∞ –≤ RAID 1 –∏ –µ–≥–æ –∑–∞–º–µ–Ω–∞

```bash
# –í—ã–≤–æ–¥–∏—Ç –¥–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –º–∞—Å—Å–∏–≤–µ:
# –°–æ—Å—Ç–æ—è–Ω–∏–µ (active, degraded)
# –°–ø–∏—Å–æ–∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤ (/dev/sdb1, /dev/sdb2)
# UUID –º–∞—Å—Å–∏–≤–∞
mdadm -D /dev/md127
# –ü–æ–º–µ—á–∞–µ—Ç –¥–∏—Å–∫ /dev/sdb1 –∫–∞–∫ –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω—ã–π (–∏–Ω–∏—Ü–∏–∏—Ä—É–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–º–µ–Ω—ã)
mdadm /dev/md127 --fail /dev/sdb1
# –£–¥–∞–ª—è–µ—Ç –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω—ã–π –¥–∏—Å–∫ /dev/sdb1 –∏–∑ –º–∞—Å—Å–∏–≤–∞ (–ø–æ—Å–ª–µ --fail)
mdadm /dev/md127 --remove /dev/sdb1
# –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ RAID –Ω–∞ –¥–∏—Å–∫–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –±—ã–ª –ª–∏ –¥–∏—Å–∫ —á–∞—Å—Ç—å—é –º–∞—Å—Å–∏–≤–∞)
mdadm --examine /dev/sdX
# –û—á–∏—â–∞–µ—Ç —Å—É–ø–µ—Ä–±–ª–æ–∫ RAID –Ω–∞ –¥–∏—Å–∫–µ –ø–µ—Ä–µ–¥ –ø–æ–≤—Ç–æ—Ä–Ω—ã–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º (—É–¥–∞–ª—è–µ—Ç —Å–ª–µ–¥—ã —É—á–∞—Å—Ç–∏—è –≤ –º–∞—Å—Å–∏–≤–µ)
mdadm --zero-superblock /dev/sdX
# –î–æ–±–∞–≤–ª—è–µ—Ç –Ω–æ–≤—ã–π –¥–∏—Å–∫ /dev/sdb3 –≤ –º–∞—Å—Å–∏–≤ –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è (–Ω–∞—á–Ω–µ—Ç—Å—è —Ä–µ—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö)
mdadm /dev/md127 --add /dev/sdb3
# –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å RAID, –≤–∫–ª—é—á–∞—è –ø—Ä–æ–≥—Ä–µ—Å—Å —Ä–µ—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, resync = 75%)
cat /proc/mdstat
```

---

<a id="GPT"></a>
## ‚öôÔ∏è –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã

```bash
# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ PV   
pvcreate /dev/sdc   
vgextend otus /dev/sdc   
# –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ —Ç–æ–º–∞   
lvextend -l+80%FREE /dev/otus/test
# –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã
resize2fs /dev/otus/test
```

---

<a id="ext4"></a>
## üõ†Ô∏è –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã

```bash
# –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ —Ç–æ–º–∞
mkfs.ext4 /dev/otus/test
# –ú–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ —Ç–æ–º–∞
mkdir /lvm
mount /dev/otus/test /lvm
```

---

<a id="pvl"></a>
## ‚úÇÔ∏è –°–æ–∑–¥–∞–Ω–∏–µ Physical Volume, Volume Group –∏ Logical Volume

```bash
# LVM (Logical Volume Manager) ‚Äî —ç—Ç–æ —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–∏—Å–∫–∞–º–∏ –≤ Linux, –ø–æ–∑–≤–æ–ª—è—é—â–∞—è –≥–∏–±–∫–æ –æ–±—ä–µ–¥–∏–Ω—è—Ç—å –∏ –ø–µ—Ä–µ—Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—Ç—å –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –Ω–∞ —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö –Ω–æ—Å–∏—Ç–µ–ª—è—Ö   
# LVM –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç—Ä–∏ —É—Ä–æ–≤–Ω—è:
# 1. PV (Physical Volume) ‚Äî —ç—Ç–æ "—Å—ã—Ä–æ–π" –¥–∏—Å–∫ –∏–ª–∏ —Ä–∞–∑–¥–µ–ª, –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã–π –ø–æ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ LVM   
pvcreate /dev/sdb
# 2. VG (Volume Group) ‚Äî —ç—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –≤ –∫–æ—Ç–æ—Ä—ã–π –æ–±—ä–µ–¥–∏–Ω—è—é—Ç—Å—è –æ–¥–∏–Ω –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ PV   
vgcreate otus /dev/sdb
# 3. LV ‚Äî —ç—Ç–æ "–∫—É—Å–æ–∫" –∏–∑ –≥—Ä—É–ø–ø—ã VG, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –æ–±—ã—á–Ω—ã–π —Ä–∞–∑–¥–µ–ª, —Ç–æ–ª—å–∫–æ –≥–∏–±—á–µ   
lvcreate -L 10G -n test otus
# –°–æ–∑–¥–∞–Ω–∏–µ –ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ —Ç–æ–º–∞ –Ω–∞ 80% –æ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ –º–µ—Å—Ç–∞   
lvcreate -l+80%FREE -n test otus   
# –£–¥–∞–ª–µ–Ω–∏–µ –ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ —Ç–æ–º–∞   
lvremove /dev/otus/test   
# –ü—Ä–æ—Å–º–æ—Ç—Ä –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ LVM   
# –ü–æ–¥—Ä–æ–±–Ω–æ:  
pvdispaly 
vgdisplay   
lvdisplay   
# –ö—Ä–∞—Ç–∫–æ:   
pvs   
vgs   
lvs   
```

---
